"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/bookmarks/[id]/route";
exports.ids = ["app/api/bookmarks/[id]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_eykag_OneDrive_Desktop_database_app_api_bookmarks_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/bookmarks/[id]/route.ts */ \"(rsc)/./app/api/bookmarks/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/bookmarks/[id]/route\",\n        pathname: \"/api/bookmarks/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/bookmarks/[id]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\eykag\\\\OneDrive\\\\Desktop\\\\database\\\\app\\\\api\\\\bookmarks\\\\[id]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_eykag_OneDrive_Desktop_database_app_api_bookmarks_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/bookmarks/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZib29rbWFya3MlMkYlNUJpZCU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYm9va21hcmtzJTJGJTVCaWQlNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZib29rbWFya3MlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNleWthZyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q2RhdGFiYXNlJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNleWthZyU1Q09uZURyaXZlJTVDRGVza3RvcCU1Q2RhdGFiYXNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tDO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGluay1zYXZlci1hdXRvLXN1bW1hcnkvPzI4YTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcZXlrYWdcXFxcT25lRHJpdmVcXFxcRGVza3RvcFxcXFxkYXRhYmFzZVxcXFxhcHBcXFxcYXBpXFxcXGJvb2ttYXJrc1xcXFxbaWRdXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ib29rbWFya3MvW2lkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Jvb2ttYXJrcy9baWRdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ib29rbWFya3MvW2lkXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGV5a2FnXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcZGF0YWJhc2VcXFxcYXBwXFxcXGFwaVxcXFxib29rbWFya3NcXFxcW2lkXVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9ib29rbWFya3MvW2lkXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/bookmarks/[id]/route.ts":
/*!*****************************************!*\
  !*** ./app/api/bookmarks/[id]/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_bookmarks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/bookmarks */ \"(rsc)/./lib/bookmarks.ts\");\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./lib/database.ts\");\n\n\n\n\n// PUT - Update bookmark\nasync function PUT(request, { params }) {\n    try {\n        await (0,_lib_database__WEBPACK_IMPORTED_MODULE_3__.initDatabase)();\n        const token = request.cookies.get(\"token\")?.value;\n        if (!token) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Authentication required\"\n            }, {\n                status: 401\n            });\n        }\n        const decoded = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.verifyToken)(token);\n        if (!decoded) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid token\"\n            }, {\n                status: 401\n            });\n        }\n        const bookmarkId = parseInt(params.id);\n        const updates = await request.json();\n        const bookmark = await (0,_lib_bookmarks__WEBPACK_IMPORTED_MODULE_2__.updateBookmark)(bookmarkId, decoded.userId, updates);\n        if (!bookmark) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Bookmark not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Bookmark updated successfully\",\n            bookmark\n        });\n    } catch (error) {\n        console.error(\"Error updating bookmark:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE - Delete bookmark\nasync function DELETE(request, { params }) {\n    try {\n        await (0,_lib_database__WEBPACK_IMPORTED_MODULE_3__.initDatabase)();\n        const token = request.cookies.get(\"token\")?.value;\n        if (!token) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Authentication required\"\n            }, {\n                status: 401\n            });\n        }\n        const decoded = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.verifyToken)(token);\n        if (!decoded) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid token\"\n            }, {\n                status: 401\n            });\n        }\n        const bookmarkId = parseInt(params.id);\n        const success = await (0,_lib_bookmarks__WEBPACK_IMPORTED_MODULE_2__.deleteBookmark)(bookmarkId, decoded.userId);\n        if (!success) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Bookmark not found\"\n            }, {\n                status: 404\n            });\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Bookmark deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error deleting bookmark:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2Jvb2ttYXJrcy9baWRdL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3RDtBQUNmO0FBS2hCO0FBQ3FCO0FBRTlDLHdCQUF3QjtBQUNqQixlQUFlSyxJQUNwQkMsT0FBb0IsRUFDcEIsRUFBRUMsTUFBTSxFQUE4QjtJQUV0QyxJQUFJO1FBQ0YsTUFBTUgsMkRBQVlBO1FBRWxCLE1BQU1JLFFBQVFGLFFBQVFHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFVBQVVDO1FBQzVDLElBQUksQ0FBQ0gsT0FBTztZQUNWLE9BQU9SLGtGQUFZQSxDQUFDWSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQTBCLEdBQ25DO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNQyxVQUFVZCxzREFBV0EsQ0FBQ087UUFDNUIsSUFBSSxDQUFDTyxTQUFTO1lBQ1osT0FBT2Ysa0ZBQVlBLENBQUNZLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBZ0IsR0FDekI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1FLGFBQWFDLFNBQVNWLE9BQU9XLEVBQUU7UUFDckMsTUFBTUMsVUFBVSxNQUFNYixRQUFRTSxJQUFJO1FBRWxDLE1BQU1RLFdBQVcsTUFBTWxCLDhEQUFjQSxDQUFDYyxZQUFZRCxRQUFRTSxNQUFNLEVBQUVGO1FBRWxFLElBQUksQ0FBQ0MsVUFBVTtZQUNiLE9BQU9wQixrRkFBWUEsQ0FBQ1ksSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFxQixHQUM5QjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsT0FBT2Qsa0ZBQVlBLENBQUNZLElBQUksQ0FDdEI7WUFDRVUsU0FBUztZQUNURjtRQUNGO0lBRUosRUFBRSxPQUFPUCxPQUFPO1FBQ2RVLFFBQVFWLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9iLGtGQUFZQSxDQUFDWSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQSwyQkFBMkI7QUFDcEIsZUFBZVUsT0FDcEJsQixPQUFvQixFQUNwQixFQUFFQyxNQUFNLEVBQThCO0lBRXRDLElBQUk7UUFDRixNQUFNSCwyREFBWUE7UUFFbEIsTUFBTUksUUFBUUYsUUFBUUcsT0FBTyxDQUFDQyxHQUFHLENBQUMsVUFBVUM7UUFDNUMsSUFBSSxDQUFDSCxPQUFPO1lBQ1YsT0FBT1Isa0ZBQVlBLENBQUNZLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBMEIsR0FDbkM7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE1BQU1DLFVBQVVkLHNEQUFXQSxDQUFDTztRQUM1QixJQUFJLENBQUNPLFNBQVM7WUFDWixPQUFPZixrRkFBWUEsQ0FBQ1ksSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUFnQixHQUN6QjtnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEsTUFBTUUsYUFBYUMsU0FBU1YsT0FBT1csRUFBRTtRQUNyQyxNQUFNTyxVQUFVLE1BQU10Qiw4REFBY0EsQ0FBQ2EsWUFBWUQsUUFBUU0sTUFBTTtRQUUvRCxJQUFJLENBQUNJLFNBQVM7WUFDWixPQUFPekIsa0ZBQVlBLENBQUNZLElBQUksQ0FDdEI7Z0JBQUVDLE9BQU87WUFBcUIsR0FDOUI7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9kLGtGQUFZQSxDQUFDWSxJQUFJLENBQ3RCO1lBQUVVLFNBQVM7UUFBZ0M7SUFFL0MsRUFBRSxPQUFPVCxPQUFPO1FBQ2RVLFFBQVFWLEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU9iLGtGQUFZQSxDQUFDWSxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBd0IsR0FDakM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9saW5rLXNhdmVyLWF1dG8tc3VtbWFyeS8uL2FwcC9hcGkvYm9va21hcmtzL1tpZF0vcm91dGUudHM/MTM5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyB2ZXJpZnlUb2tlbiB9IGZyb20gJ0AvbGliL2F1dGgnO1xyXG5pbXBvcnQgeyBcclxuICB1cGRhdGVCb29rbWFyaywgXHJcbiAgZGVsZXRlQm9va21hcmssIFxyXG4gIGdldEJvb2ttYXJrQnlJZCBcclxufSBmcm9tICdAL2xpYi9ib29rbWFya3MnO1xyXG5pbXBvcnQgeyBpbml0RGF0YWJhc2UgfSBmcm9tICdAL2xpYi9kYXRhYmFzZSc7XHJcblxyXG4vLyBQVVQgLSBVcGRhdGUgYm9va21hcmtcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChcclxuICByZXF1ZXN0OiBOZXh0UmVxdWVzdCxcclxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxyXG4pIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgaW5pdERhdGFiYXNlKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldCgndG9rZW4nKT8udmFsdWU7XHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnlUb2tlbih0b2tlbik7XHJcbiAgICBpZiAoIWRlY29kZWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIHRva2VuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBib29rbWFya0lkID0gcGFyc2VJbnQocGFyYW1zLmlkKTtcclxuICAgIGNvbnN0IHVwZGF0ZXMgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIFxyXG4gICAgY29uc3QgYm9va21hcmsgPSBhd2FpdCB1cGRhdGVCb29rbWFyayhib29rbWFya0lkLCBkZWNvZGVkLnVzZXJJZCwgdXBkYXRlcyk7XHJcbiAgICBcclxuICAgIGlmICghYm9va21hcmspIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdCb29rbWFyayBub3QgZm91bmQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBcclxuICAgICAgICBtZXNzYWdlOiAnQm9va21hcmsgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICAgIGJvb2ttYXJrIFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBib29rbWFyazonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIERFTEVURSAtIERlbGV0ZSBib29rbWFya1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKFxyXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxyXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XHJcbikge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBpbml0RGF0YWJhc2UoKTtcclxuICAgIFxyXG4gICAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCd0b2tlbicpPy52YWx1ZTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZGVjb2RlZCA9IHZlcmlmeVRva2VuKHRva2VuKTtcclxuICAgIGlmICghZGVjb2RlZCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgdG9rZW4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGJvb2ttYXJrSWQgPSBwYXJzZUludChwYXJhbXMuaWQpO1xyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGRlbGV0ZUJvb2ttYXJrKGJvb2ttYXJrSWQsIGRlY29kZWQudXNlcklkKTtcclxuICAgIFxyXG4gICAgaWYgKCFzdWNjZXNzKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAnQm9va21hcmsgbm90IGZvdW5kJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgbWVzc2FnZTogJ0Jvb2ttYXJrIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9XHJcbiAgICApO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBib29rbWFyazonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0gIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZlcmlmeVRva2VuIiwidXBkYXRlQm9va21hcmsiLCJkZWxldGVCb29rbWFyayIsImluaXREYXRhYmFzZSIsIlBVVCIsInJlcXVlc3QiLCJwYXJhbXMiLCJ0b2tlbiIsImNvb2tpZXMiLCJnZXQiLCJ2YWx1ZSIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImRlY29kZWQiLCJib29rbWFya0lkIiwicGFyc2VJbnQiLCJpZCIsInVwZGF0ZXMiLCJib29rbWFyayIsInVzZXJJZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwiREVMRVRFIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/bookmarks/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   comparePassword: () => (/* binding */ comparePassword),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./database */ \"(rsc)/./lib/database.ts\");\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key-change-in-production\";\nconst hashPassword = async (password)=>{\n    const saltRounds = 12;\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, saltRounds);\n};\nconst comparePassword = async (password, hashedPassword)=>{\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n};\nconst generateToken = (userId)=>{\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign({\n        userId\n    }, JWT_SECRET, {\n        expiresIn: \"7d\"\n    });\n};\nconst verifyToken = (token)=>{\n    try {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n    } catch  {\n        return null;\n    }\n};\nconst createUser = async (email, password)=>{\n    return new Promise(async (resolve, reject)=>{\n        try {\n            const db = (0,_database__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n            const hashedPassword = await hashPassword(password);\n            db.run(\"INSERT INTO users (email, password) VALUES (?, ?)\", [\n                email,\n                hashedPassword\n            ], function(err) {\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                db.get(\"SELECT id, email, created_at FROM users WHERE id = ?\", [\n                    this.lastID\n                ], (err, row)=>{\n                    if (err) {\n                        reject(err);\n                        return;\n                    }\n                    resolve(row);\n                });\n            });\n        } catch (error) {\n            reject(error);\n        }\n    });\n};\nconst getUserByEmail = async (email)=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        db.get(\"SELECT id, email, password, created_at FROM users WHERE email = ?\", [\n            email\n        ], (err, row)=>{\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(row);\n        });\n    });\n};\nconst getUserById = async (id)=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_2__.getDatabase)();\n        db.get(\"SELECT id, email, created_at FROM users WHERE id = ?\", [\n            id\n        ], (err, row)=>{\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(row);\n        });\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBOEI7QUFDQztBQUNVO0FBRXpDLE1BQU1HLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0YsVUFBVSxJQUFJO0FBUXRDLE1BQU1HLGVBQWUsT0FBT0M7SUFDakMsTUFBTUMsYUFBYTtJQUNuQixPQUFPUixvREFBVyxDQUFDTyxVQUFVQztBQUMvQixFQUFFO0FBRUssTUFBTUUsa0JBQWtCLE9BQU9ILFVBQWtCSTtJQUN0RCxPQUFPWCx1REFBYyxDQUFDTyxVQUFVSTtBQUNsQyxFQUFFO0FBRUssTUFBTUUsZ0JBQWdCLENBQUNDO0lBQzVCLE9BQU9iLHdEQUFRLENBQUM7UUFBRWE7SUFBTyxHQUFHWCxZQUFZO1FBQUVhLFdBQVc7SUFBSztBQUM1RCxFQUFFO0FBRUssTUFBTUMsY0FBYyxDQUFDQztJQUMxQixJQUFJO1FBQ0YsT0FBT2pCLDBEQUFVLENBQUNpQixPQUFPZjtJQUMzQixFQUFFLE9BQU07UUFDTixPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUssTUFBTWlCLGFBQWEsT0FBT0MsT0FBZWQ7SUFDOUMsT0FBTyxJQUFJZSxRQUFRLE9BQU9DLFNBQVNDO1FBQ2pDLElBQUk7WUFDRixNQUFNQyxLQUFLdkIsc0RBQVdBO1lBQ3RCLE1BQU1TLGlCQUFpQixNQUFNTCxhQUFhQztZQUUxQ2tCLEdBQUdDLEdBQUcsQ0FDSixxREFDQTtnQkFBQ0w7Z0JBQU9WO2FBQWUsRUFDdkIsU0FBU2dCLEdBQUc7Z0JBQ1YsSUFBSUEsS0FBSztvQkFDUEgsT0FBT0c7b0JBQ1A7Z0JBQ0Y7Z0JBRUFGLEdBQUdHLEdBQUcsQ0FDSix3REFDQTtvQkFBQyxJQUFJLENBQUNDLE1BQU07aUJBQUMsRUFDYixDQUFDRixLQUFLRztvQkFDSixJQUFJSCxLQUFLO3dCQUNQSCxPQUFPRzt3QkFDUDtvQkFDRjtvQkFDQUosUUFBUU87Z0JBQ1Y7WUFFSjtRQUVKLEVBQUUsT0FBT0MsT0FBTztZQUNkUCxPQUFPTztRQUNUO0lBQ0Y7QUFDRixFQUFFO0FBRUssTUFBTUMsaUJBQWlCLE9BQU9YO0lBQ25DLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxLQUFLdkIsc0RBQVdBO1FBRXRCdUIsR0FBR0csR0FBRyxDQUNKLHFFQUNBO1lBQUNQO1NBQU0sRUFDUCxDQUFDTSxLQUFLRztZQUNKLElBQUlILEtBQUs7Z0JBQ1BILE9BQU9HO2dCQUNQO1lBQ0Y7WUFDQUosUUFBUU87UUFDVjtJQUVKO0FBQ0YsRUFBRTtBQUVLLE1BQU1HLGNBQWMsT0FBT0M7SUFDaEMsT0FBTyxJQUFJWixRQUFRLENBQUNDLFNBQVNDO1FBQzNCLE1BQU1DLEtBQUt2QixzREFBV0E7UUFFdEJ1QixHQUFHRyxHQUFHLENBQ0osd0RBQ0E7WUFBQ007U0FBRyxFQUNKLENBQUNQLEtBQUtHO1lBQ0osSUFBSUgsS0FBSztnQkFDUEgsT0FBT0c7Z0JBQ1A7WUFDRjtZQUNBSixRQUFRTztRQUNWO0lBRUo7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGluay1zYXZlci1hdXRvLXN1bW1hcnkvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCB7IGdldERhdGFiYXNlIH0gZnJvbSAnLi9kYXRhYmFzZSc7XHJcblxyXG5jb25zdCBKV1RfU0VDUkVUID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAneW91ci1zZWNyZXQta2V5LWNoYW5nZS1pbi1wcm9kdWN0aW9uJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XHJcbiAgaWQ6IG51bWJlcjtcclxuICBlbWFpbDogc3RyaW5nO1xyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGhhc2hQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcclxuICBjb25zdCBzYWx0Um91bmRzID0gMTI7XHJcbiAgcmV0dXJuIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0Um91bmRzKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb21wYXJlUGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQ6IHN0cmluZywgaGFzaGVkUGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVG9rZW4gPSAodXNlcklkOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG4gIHJldHVybiBqd3Quc2lnbih7IHVzZXJJZCB9LCBKV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzdkJyB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2ZXJpZnlUb2tlbiA9ICh0b2tlbjogc3RyaW5nKTogeyB1c2VySWQ6IG51bWJlciB9IHwgbnVsbCA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyB7IHVzZXJJZDogbnVtYmVyIH07XHJcbiAgfSBjYXRjaCB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlciA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxVc2VyPiA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcclxuICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQocGFzc3dvcmQpO1xyXG4gICAgICBcclxuICAgICAgZGIucnVuKFxyXG4gICAgICAgICdJTlNFUlQgSU5UTyB1c2VycyAoZW1haWwsIHBhc3N3b3JkKSBWQUxVRVMgKD8sID8pJyxcclxuICAgICAgICBbZW1haWwsIGhhc2hlZFBhc3N3b3JkXSxcclxuICAgICAgICBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgZGIuZ2V0KFxyXG4gICAgICAgICAgICAnU0VMRUNUIGlkLCBlbWFpbCwgY3JlYXRlZF9hdCBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPycsXHJcbiAgICAgICAgICAgIFt0aGlzLmxhc3RJRF0sXHJcbiAgICAgICAgICAgIChlcnIsIHJvdykgPT4ge1xyXG4gICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXNvbHZlKHJvdyBhcyBVc2VyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJCeUVtYWlsID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPFVzZXIgJiB7IHBhc3N3b3JkOiBzdHJpbmcgfSB8IG51bGw+ID0+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xyXG4gICAgXHJcbiAgICBkYi5nZXQoXHJcbiAgICAgICdTRUxFQ1QgaWQsIGVtYWlsLCBwYXNzd29yZCwgY3JlYXRlZF9hdCBGUk9NIHVzZXJzIFdIRVJFIGVtYWlsID0gPycsXHJcbiAgICAgIFtlbWFpbF0sXHJcbiAgICAgIChlcnIsIHJvdykgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXNvbHZlKHJvdyBhcyBVc2VyICYgeyBwYXNzd29yZDogc3RyaW5nIH0gfCBudWxsKTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlJZCA9IGFzeW5jIChpZDogbnVtYmVyKTogUHJvbWlzZTxVc2VyIHwgbnVsbD4gPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBkYiA9IGdldERhdGFiYXNlKCk7XHJcbiAgICBcclxuICAgIGRiLmdldChcclxuICAgICAgJ1NFTEVDVCBpZCwgZW1haWwsIGNyZWF0ZWRfYXQgRlJPTSB1c2VycyBXSEVSRSBpZCA9ID8nLFxyXG4gICAgICBbaWRdLFxyXG4gICAgICAoZXJyLCByb3cpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzb2x2ZShyb3cgYXMgVXNlciB8IG51bGwpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH0pO1xyXG59OyAiXSwibmFtZXMiOlsiYmNyeXB0Iiwiand0IiwiZ2V0RGF0YWJhc2UiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwic2FsdFJvdW5kcyIsImhhc2giLCJjb21wYXJlUGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImNvbXBhcmUiLCJnZW5lcmF0ZVRva2VuIiwidXNlcklkIiwic2lnbiIsImV4cGlyZXNJbiIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJ2ZXJpZnkiLCJjcmVhdGVVc2VyIiwiZW1haWwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRiIiwicnVuIiwiZXJyIiwiZ2V0IiwibGFzdElEIiwicm93IiwiZXJyb3IiLCJnZXRVc2VyQnlFbWFpbCIsImdldFVzZXJCeUlkIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/bookmarks.ts":
/*!**************************!*\
  !*** ./lib/bookmarks.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createBookmark: () => (/* binding */ createBookmark),\n/* harmony export */   deleteBookmark: () => (/* binding */ deleteBookmark),\n/* harmony export */   getBookmarkById: () => (/* binding */ getBookmarkById),\n/* harmony export */   getBookmarksByTag: () => (/* binding */ getBookmarksByTag),\n/* harmony export */   getBookmarksByUserId: () => (/* binding */ getBookmarksByUserId),\n/* harmony export */   updateBookmark: () => (/* binding */ updateBookmark)\n/* harmony export */ });\n/* harmony import */ var _database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database */ \"(rsc)/./lib/database.ts\");\n\nconst createBookmark = async (userId, url, title, favicon, summary, tags = \"\")=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getDatabase)();\n        db.run(\"INSERT INTO bookmarks (user_id, url, title, favicon, summary, tags) VALUES (?, ?, ?, ?, ?, ?)\", [\n            userId,\n            url,\n            title,\n            favicon,\n            summary,\n            tags\n        ], function(err) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            db.get(\"SELECT * FROM bookmarks WHERE id = ?\", [\n                this.lastID\n            ], (err, row)=>{\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                resolve(row);\n            });\n        });\n    });\n};\nconst getBookmarksByUserId = async (userId)=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getDatabase)();\n        db.all(\"SELECT * FROM bookmarks WHERE user_id = ? ORDER BY created_at DESC\", [\n            userId\n        ], (err, rows)=>{\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(rows);\n        });\n    });\n};\nconst getBookmarkById = async (id, userId)=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getDatabase)();\n        db.get(\"SELECT * FROM bookmarks WHERE id = ? AND user_id = ?\", [\n            id,\n            userId\n        ], (err, row)=>{\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(row);\n        });\n    });\n};\nconst updateBookmark = async (id, userId, updates)=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getDatabase)();\n        const setClause = Object.keys(updates).map((key)=>`${key} = ?`).join(\", \");\n        const values = [\n            ...Object.values(updates),\n            id,\n            userId\n        ];\n        db.run(`UPDATE bookmarks SET ${setClause} WHERE id = ? AND user_id = ?`, values, function(err) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            if (this.changes === 0) {\n                resolve(null);\n                return;\n            }\n            db.get(\"SELECT * FROM bookmarks WHERE id = ?\", [\n                id\n            ], (err, row)=>{\n                if (err) {\n                    reject(err);\n                    return;\n                }\n                resolve(row);\n            });\n        });\n    });\n};\nconst deleteBookmark = async (id, userId)=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getDatabase)();\n        db.run(\"DELETE FROM bookmarks WHERE id = ? AND user_id = ?\", [\n            id,\n            userId\n        ], function(err) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(this.changes > 0);\n        });\n    });\n};\nconst getBookmarksByTag = async (userId, tag)=>{\n    return new Promise((resolve, reject)=>{\n        const db = (0,_database__WEBPACK_IMPORTED_MODULE_0__.getDatabase)();\n        db.all(\"SELECT * FROM bookmarks WHERE user_id = ? AND tags LIKE ? ORDER BY created_at DESC\", [\n            userId,\n            `%${tag}%`\n        ], (err, rows)=>{\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(rows);\n        });\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxLQUFLWCxzREFBV0E7UUFFdEJXLEdBQUdPLEdBQUcsQ0FDSixzRkFDQTtZQUFDaEI7WUFBUSxDQUFDLENBQUMsRUFBRWdDLElBQUksQ0FBQyxDQUFDO1NBQUMsRUFDcEIsQ0FBQ3JCLEtBQUtNO1lBQ0osSUFBSU4sS0FBSztnQkFDUEgsT0FBT0c7Z0JBQ1A7WUFDRjtZQUNBSixRQUFRVTtRQUNWO0lBRUo7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGluay1zYXZlci1hdXRvLXN1bW1hcnkvLi9saWIvYm9va21hcmtzLnRzPzk2YTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RGF0YWJhc2UgfSBmcm9tICcuL2RhdGFiYXNlJztcblxuZXhwb3J0IGludGVyZmFjZSBCb29rbWFyayB7XG4gIGlkOiBudW1iZXI7XG4gIHVzZXJfaWQ6IG51bWJlcjtcbiAgdXJsOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGZhdmljb246IHN0cmluZztcbiAgc3VtbWFyeTogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUJvb2ttYXJrID0gYXN5bmMgKFxuICB1c2VySWQ6IG51bWJlcixcbiAgdXJsOiBzdHJpbmcsXG4gIHRpdGxlOiBzdHJpbmcsXG4gIGZhdmljb246IHN0cmluZyxcbiAgc3VtbWFyeTogc3RyaW5nLFxuICB0YWdzOiBzdHJpbmcgPSAnJ1xuKTogUHJvbWlzZTxCb29rbWFyaz4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgICBcbiAgICBkYi5ydW4oXG4gICAgICAnSU5TRVJUIElOVE8gYm9va21hcmtzICh1c2VyX2lkLCB1cmwsIHRpdGxlLCBmYXZpY29uLCBzdW1tYXJ5LCB0YWdzKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8pJyxcbiAgICAgIFt1c2VySWQsIHVybCwgdGl0bGUsIGZhdmljb24sIHN1bW1hcnksIHRhZ3NdLFxuICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRiLmdldChcbiAgICAgICAgICAnU0VMRUNUICogRlJPTSBib29rbWFya3MgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgICBbdGhpcy5sYXN0SURdLFxuICAgICAgICAgIChlcnIsIHJvdykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyb3cgYXMgQm9va21hcmspO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCb29rbWFya3NCeVVzZXJJZCA9IGFzeW5jICh1c2VySWQ6IG51bWJlcik6IFByb21pc2U8Qm9va21hcmtbXT4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgICBcbiAgICBkYi5hbGwoXG4gICAgICAnU0VMRUNUICogRlJPTSBib29rbWFya3MgV0hFUkUgdXNlcl9pZCA9ID8gT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDJyxcbiAgICAgIFt1c2VySWRdLFxuICAgICAgKGVyciwgcm93cykgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocm93cyBhcyBCb29rbWFya1tdKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCb29rbWFya0J5SWQgPSBhc3luYyAoaWQ6IG51bWJlciwgdXNlcklkOiBudW1iZXIpOiBQcm9taXNlPEJvb2ttYXJrIHwgbnVsbD4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgICBcbiAgICBkYi5nZXQoXG4gICAgICAnU0VMRUNUICogRlJPTSBib29rbWFya3MgV0hFUkUgaWQgPSA/IEFORCB1c2VyX2lkID0gPycsXG4gICAgICBbaWQsIHVzZXJJZF0sXG4gICAgICAoZXJyLCByb3cpID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJvdyBhcyBCb29rbWFyayB8IG51bGwpO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUJvb2ttYXJrID0gYXN5bmMgKFxuICBpZDogbnVtYmVyLFxuICB1c2VySWQ6IG51bWJlcixcbiAgdXBkYXRlczogUGFydGlhbDxQaWNrPEJvb2ttYXJrLCAndGl0bGUnIHwgJ3N1bW1hcnknIHwgJ3RhZ3MnPj5cbik6IFByb21pc2U8Qm9va21hcmsgfCBudWxsPiA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZGIgPSBnZXREYXRhYmFzZSgpO1xuICAgIFxuICAgIGNvbnN0IHNldENsYXVzZSA9IE9iamVjdC5rZXlzKHVwZGF0ZXMpXG4gICAgICAubWFwKGtleSA9PiBgJHtrZXl9ID0gP2ApXG4gICAgICAuam9pbignLCAnKTtcbiAgICBcbiAgICBjb25zdCB2YWx1ZXMgPSBbLi4uT2JqZWN0LnZhbHVlcyh1cGRhdGVzKSwgaWQsIHVzZXJJZF07XG4gICAgXG4gICAgZGIucnVuKFxuICAgICAgYFVQREFURSBib29rbWFya3MgU0VUICR7c2V0Q2xhdXNlfSBXSEVSRSBpZCA9ID8gQU5EIHVzZXJfaWQgPSA/YCxcbiAgICAgIHZhbHVlcyxcbiAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5jaGFuZ2VzID09PSAwKSB7XG4gICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRiLmdldChcbiAgICAgICAgICAnU0VMRUNUICogRlJPTSBib29rbWFya3MgV0hFUkUgaWQgPSA/JyxcbiAgICAgICAgICBbaWRdLFxuICAgICAgICAgIChlcnIsIHJvdykgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyb3cgYXMgQm9va21hcmspO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVCb29rbWFyayA9IGFzeW5jIChpZDogbnVtYmVyLCB1c2VySWQ6IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoKTtcbiAgICBcbiAgICBkYi5ydW4oXG4gICAgICAnREVMRVRFIEZST00gYm9va21hcmtzIFdIRVJFIGlkID0gPyBBTkQgdXNlcl9pZCA9ID8nLFxuICAgICAgW2lkLCB1c2VySWRdLFxuICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh0aGlzLmNoYW5nZXMgPiAwKTtcbiAgICAgIH1cbiAgICApO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRCb29rbWFya3NCeVRhZyA9IGFzeW5jICh1c2VySWQ6IG51bWJlciwgdGFnOiBzdHJpbmcpOiBQcm9taXNlPEJvb2ttYXJrW10+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBkYiA9IGdldERhdGFiYXNlKCk7XG4gICAgXG4gICAgZGIuYWxsKFxuICAgICAgJ1NFTEVDVCAqIEZST00gYm9va21hcmtzIFdIRVJFIHVzZXJfaWQgPSA/IEFORCB0YWdzIExJS0UgPyBPUkRFUiBCWSBjcmVhdGVkX2F0IERFU0MnLFxuICAgICAgW3VzZXJJZCwgYCUke3RhZ30lYF0sXG4gICAgICAoZXJyLCByb3dzKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyb3dzIGFzIEJvb2ttYXJrW10pO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xufTsgIl0sIm5hbWVzIjpbImdldERhdGFiYXNlIiwiY3JlYXRlQm9va21hcmsiLCJ1c2VySWQiLCJ1cmwiLCJ0aXRsZSIsImZhdmljb24iLCJzdW1tYXJ5IiwidGFncyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZGIiLCJydW4iLCJlcnIiLCJnZXQiLCJsYXN0SUQiLCJyb3ciLCJnZXRCb29rbWFya3NCeVVzZXJJZCIsImFsbCIsInJvd3MiLCJnZXRCb29rbWFya0J5SWQiLCJpZCIsInVwZGF0ZUJvb2ttYXJrIiwidXBkYXRlcyIsInNldENsYXVzZSIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJrZXkiLCJqb2luIiwidmFsdWVzIiwiY2hhbmdlcyIsImRlbGV0ZUJvb2ttYXJrIiwiZ2V0Qm9va21hcmtzQnlUYWciLCJ0YWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/bookmarks.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase),\n/* harmony export */   initDatabase: () => (/* binding */ initDatabase)\n/* harmony export */ });\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst dbPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"database.sqlite\");\nconst initDatabase = ()=>{\n    return new Promise((resolve, reject)=>{\n        const db = new (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)(dbPath, (err)=>{\n            if (err) {\n                reject(err);\n                return;\n            }\n            // Create users table\n            db.run(`\n        CREATE TABLE IF NOT EXISTS users (\n          id INTEGER PRIMARY KEY AUTOINCREMENT,\n          email TEXT UNIQUE NOT NULL,\n          password TEXT NOT NULL,\n          created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n        )\n      `);\n            // Create bookmarks table\n            db.run(`\n        CREATE TABLE IF NOT EXISTS bookmarks (\n          id INTEGER PRIMARY KEY AUTOINCREMENT,\n          user_id INTEGER NOT NULL,\n          url TEXT NOT NULL,\n          title TEXT,\n          favicon TEXT,\n          summary TEXT,\n          tags TEXT,\n          created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n          FOREIGN KEY (user_id) REFERENCES users (id)\n        )\n      `);\n            resolve(db);\n        });\n    });\n};\nconst getDatabase = ()=>{\n    return new (sqlite3__WEBPACK_IMPORTED_MODULE_0___default().Database)(dbPath);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGF0YWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThCO0FBQ047QUFFeEIsTUFBTUUsU0FBU0QsZ0RBQVMsQ0FBQ0csUUFBUUMsR0FBRyxJQUFJO0FBRWpDLE1BQU1DLGVBQWU7SUFDMUIsT0FBTyxJQUFJQyxRQUEwQixDQUFDQyxTQUFTQztRQUM3QyxNQUFNQyxLQUFLLElBQUlWLHlEQUFnQixDQUFDRSxRQUFRLENBQUNVO1lBQ3ZDLElBQUlBLEtBQUs7Z0JBQ1BILE9BQU9HO2dCQUNQO1lBQ0Y7WUFFQSxxQkFBcUI7WUFDckJGLEdBQUdHLEdBQUcsQ0FBQyxDQUFDOzs7Ozs7O01BT1IsQ0FBQztZQUVELHlCQUF5QjtZQUN6QkgsR0FBR0csR0FBRyxDQUFDLENBQUM7Ozs7Ozs7Ozs7OztNQVlSLENBQUM7WUFFREwsUUFBUUU7UUFDVjtJQUNGO0FBQ0YsRUFBRTtBQUVLLE1BQU1JLGNBQWM7SUFDekIsT0FBTyxJQUFJZCx5REFBZ0IsQ0FBQ0U7QUFDOUIsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2xpbmstc2F2ZXItYXV0by1zdW1tYXJ5Ly4vbGliL2RhdGFiYXNlLnRzPzRkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNxbGl0ZTMgZnJvbSAnc3FsaXRlMyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuY29uc3QgZGJQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhYmFzZS5zcWxpdGUnKTtcblxuZXhwb3J0IGNvbnN0IGluaXREYXRhYmFzZSA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlPHNxbGl0ZTMuRGF0YWJhc2U+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBkYiA9IG5ldyBzcWxpdGUzLkRhdGFiYXNlKGRiUGF0aCwgKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDcmVhdGUgdXNlcnMgdGFibGVcbiAgICAgIGRiLnJ1bihgXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHVzZXJzIChcbiAgICAgICAgICBpZCBJTlRFR0VSIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsXG4gICAgICAgICAgZW1haWwgVEVYVCBVTklRVUUgTk9UIE5VTEwsXG4gICAgICAgICAgcGFzc3dvcmQgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICBjcmVhdGVkX2F0IERBVEVUSU1FIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcbiAgICAgICAgKVxuICAgICAgYCk7XG5cbiAgICAgIC8vIENyZWF0ZSBib29rbWFya3MgdGFibGVcbiAgICAgIGRiLnJ1bihgXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGJvb2ttYXJrcyAoXG4gICAgICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULFxuICAgICAgICAgIHVzZXJfaWQgSU5URUdFUiBOT1QgTlVMTCxcbiAgICAgICAgICB1cmwgVEVYVCBOT1QgTlVMTCxcbiAgICAgICAgICB0aXRsZSBURVhULFxuICAgICAgICAgIGZhdmljb24gVEVYVCxcbiAgICAgICAgICBzdW1tYXJ5IFRFWFQsXG4gICAgICAgICAgdGFncyBURVhULFxuICAgICAgICAgIGNyZWF0ZWRfYXQgREFURVRJTUUgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcbiAgICAgICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyAoaWQpXG4gICAgICAgIClcbiAgICAgIGApO1xuXG4gICAgICByZXNvbHZlKGRiKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YWJhc2UgPSAoKSA9PiB7XG4gIHJldHVybiBuZXcgc3FsaXRlMy5EYXRhYmFzZShkYlBhdGgpO1xufTsgIl0sIm5hbWVzIjpbInNxbGl0ZTMiLCJwYXRoIiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJpbml0RGF0YWJhc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRiIiwiRGF0YWJhc2UiLCJlcnIiLCJydW4iLCJnZXREYXRhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/lodash.once","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&page=%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbookmarks%2F%5Bid%5D%2Froute.ts&appDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ceykag%5COneDrive%5CDesktop%5Cdatabase&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();